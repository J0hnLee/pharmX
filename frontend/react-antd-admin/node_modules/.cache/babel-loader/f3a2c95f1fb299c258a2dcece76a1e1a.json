{"ast":null,"code":"import \"antd/lib/table/style/css\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/col/style/css\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/select/style/css\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/form/style/css\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport $axios from '../../axios/$axios';\nconst FormItem = _Form.Item;\nconst {\n  Option\n} = _Select;\n\nclass TableSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      pagination: {\n        pageSize: 10,\n        current: 1\n      },\n      loading: false,\n      selectedRowKeys: [],\n      columns: [{\n        title: 'Name',\n        dataIndex: 'name',\n        sorter: true,\n        render: name => `${name.first} ${name.last}`,\n        width: '20%'\n      }, {\n        title: 'Gender',\n        dataIndex: 'gender',\n        filters: [{\n          text: 'Male',\n          value: 'male'\n        }, {\n          text: 'Female',\n          value: 'female'\n        }],\n        width: '20%'\n      }, {\n        title: 'Email',\n        dataIndex: 'email'\n      }]\n    };\n\n    this.handleTableChange = page => {\n      const pager = { ...this.state.pagination\n      };\n      pager.current = page;\n      this.setState({\n        pagination: pager\n      }, () => {\n        this.fetch({\n          page: this.state.pagination.current\n        });\n      });\n    };\n\n    this.fetch = (params = {}) => {\n      this.setState({\n        loading: true\n      });\n      $axios.get('https://randomuser.me/api', {\n        params: {\n          results: this.state.pagination.pageSize,\n          ...params\n        }\n      }).then(data => {\n        const pagination = { ...this.state.pagination\n        };\n        pagination.total = 200;\n        this.setState({\n          loading: false,\n          data: data.data.results,\n          pagination\n        });\n      });\n    };\n\n    this.onSelectedRowKeysChange = selectedRowKeys => {\n      this.setState({\n        selectedRowKeys\n      });\n    };\n\n    this.handleSearch = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        console.log('Received values of form: ', values);\n        const {\n          gender\n        } = values;\n\n        if (gender) {\n          this.fetch({\n            gender,\n            page: this.state.pagination.current\n          });\n        }\n      });\n    };\n\n    this.handleReset = () => {\n      this.props.form.resetFields();\n      this.fetch();\n    };\n  }\n\n  componentWillMount() {\n    this.fetch();\n  }\n\n  componentWillUnmount() {\n    // componentWillMount进行异步操作时且在callback中进行了setState操作时，需要在组件卸载时清除state\n    this.setState = () => {\n      return;\n    };\n  } // 切换分页\n\n\n  onShowSizeChange(current, pageSize) {\n    const pagination = { ...this.state.pagination\n    };\n    pagination.pageSize = pageSize;\n    pagination.current = current;\n    this.setState({\n      pagination\n    }, () => {\n      this.fetch({\n        results: this.state.pagination.pageSize,\n        page: this.state.pagination.current\n      });\n    });\n  }\n\n  render() {\n    const {\n      selectedRowKeys\n    } = this.state;\n    const rowSelection = {\n      selectedRowKeys,\n      onChange: this.onSelectedRowKeysChange\n    };\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const paginationProps = {\n      onChange: page => this.handleTableChange(page),\n      onShowSizeChange: (current, pageSize) => this.onShowSizeChange(current, pageSize),\n      //  pageSize 变化的回调\n      ...this.state.pagination,\n      showSizeChanger: true,\n      showQuickJumper: true\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shadow-radius\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(_Form, {\n      className: \"search-form\",\n      style: {\n        paddingBottom: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      gutter: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      label: \"Gender\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 8\n      }\n    }, getFieldDecorator('gender')( /*#__PURE__*/React.createElement(_Select, {\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      value: \"male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, \"male\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"female\"))))), /*#__PURE__*/React.createElement(_Col, {\n      span: 2,\n      style: {\n        marginRight: '10px',\n        display: 'flex'\n      },\n      className: \"serarch-btns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      icon: \"search\",\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: 'btn',\n      onClick: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, \"\\u641C\\u7D22\")), /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      className: 'btn',\n      onClick: this.handleReset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, \"\\u91CD\\u7F6E\"))))), /*#__PURE__*/React.createElement(_Table, {\n      bordered: true,\n      columns: this.state.columns,\n      dataSource: this.state.data,\n      loading: this.state.loading,\n      pagination: paginationProps,\n      rowKey: record => record.location.postcode,\n      rowSelection: rowSelection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }\n    }));\n  }\n\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n\n}\n\nconst _default = _Form.create()(TableSearch);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(FormItem, \"FormItem\", \"/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js\");\n  reactHotLoader.register(Option, \"Option\", \"/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js\");\n  reactHotLoader.register(TableSearch, \"TableSearch\", \"/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/johnlee/Desktop/pharmPOS/react-antd-admin/src/views/table/TableSearch.js"],"names":["React","Component","$axios","FormItem","Item","Option","TableSearch","state","data","pagination","pageSize","current","loading","selectedRowKeys","columns","title","dataIndex","sorter","render","name","first","last","width","filters","text","value","handleTableChange","page","pager","setState","fetch","params","get","results","then","total","onSelectedRowKeysChange","handleSearch","e","preventDefault","props","form","validateFields","err","values","console","log","gender","handleReset","resetFields","componentWillMount","componentWillUnmount","onShowSizeChange","rowSelection","onChange","getFieldDecorator","paginationProps","showSizeChanger","showQuickJumper","paddingBottom","marginRight","display","record","location","postcode","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table, Row, Col, Button, Form, Select } from 'antd';\nimport $axios from '../../axios/$axios';\nconst FormItem = Form.Item;\nconst { Option } = Select;\nclass TableSearch extends Component {\n\tstate = {\n\t\tdata: [],\n\t\tpagination: {\n\t\t\tpageSize: 10,\n\t\t\tcurrent: 1\n\t\t},\n\t\tloading: false,\n\t\tselectedRowKeys: [],\n\t\tcolumns: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tdataIndex: 'name',\n\t\t\t\tsorter: true,\n\t\t\t\trender: name => `${name.first} ${name.last}`,\n\t\t\t\twidth: '20%'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Gender',\n\t\t\t\tdataIndex: 'gender',\n\t\t\t\tfilters: [{ text: 'Male', value: 'male' }, { text: 'Female', value: 'female' }],\n\t\t\t\twidth: '20%'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Email',\n\t\t\t\tdataIndex: 'email'\n\t\t\t}\n\t\t]\n\t};\n\n\tcomponentWillMount() {\n\t\tthis.fetch();\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// componentWillMount进行异步操作时且在callback中进行了setState操作时，需要在组件卸载时清除state\n\t\tthis.setState = () => {\n\t\t\treturn;\n\t\t};\n\t}\n\t// 切换分页\n\thandleTableChange = page => {\n\t\tconst pager = { ...this.state.pagination };\n\t\tpager.current = page;\n\t\tthis.setState({ pagination: pager }, () => {\n\t\t\tthis.fetch({ page: this.state.pagination.current });\n\t\t});\n\t};\n\tfetch = (params = {}) => {\n\t\tthis.setState({ loading: true });\n\t\t$axios.get('https://randomuser.me/api', { params: { results: this.state.pagination.pageSize, ...params } }).then(data => {\n\t\t\tconst pagination = { ...this.state.pagination };\n\t\t\tpagination.total = 200;\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tdata: data.data.results,\n\t\t\t\tpagination\n\t\t\t});\n\t\t});\n\t};\n\n\tonSelectedRowKeysChange = selectedRowKeys => {\n\t\tthis.setState({ selectedRowKeys });\n\t};\n\thandleSearch = e => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err, values) => {\n\t\t\tconsole.log('Received values of form: ', values);\n\t\t\tconst { gender } = values;\n\t\t\tif (gender) {\n\t\t\t\tthis.fetch({\n\t\t\t\t\tgender,\n\t\t\t\t\tpage: this.state.pagination.current\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\thandleReset = () => {\n\t\tthis.props.form.resetFields();\n\t\tthis.fetch();\n\t};\n\tonShowSizeChange(current, pageSize) {\n\t\tconst pagination = { ...this.state.pagination };\n\t\tpagination.pageSize = pageSize;\n\t\tpagination.current = current;\n\t\tthis.setState({ pagination }, () => {\n\t\t\tthis.fetch({ results: this.state.pagination.pageSize, page: this.state.pagination.current });\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { selectedRowKeys } = this.state;\n\t\tconst rowSelection = {\n\t\t\tselectedRowKeys,\n\t\t\tonChange: this.onSelectedRowKeysChange\n\t\t};\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\tconst paginationProps = {\n\t\t\tonChange: page => this.handleTableChange(page),\n\t\t\tonShowSizeChange: (current, pageSize) => this.onShowSizeChange(current, pageSize), //  pageSize 变化的回调\n\t\t\t...this.state.pagination,\n\t\t\tshowSizeChanger: true,\n\t\t\tshowQuickJumper: true\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"shadow-radius\">\n\t\t\t\t<Form className=\"search-form\" style={{ paddingBottom: 0 }}>\n\t\t\t\t\t<Row gutter={24}>\n\t\t\t\t\t\t<Col span={4}>\n\t\t\t\t\t\t\t<FormItem label=\"Gender\">\n\t\t\t\t\t\t\t\t{getFieldDecorator('gender')(\n\t\t\t\t\t\t\t\t\t<Select placeholder=\"请选择\">\n\t\t\t\t\t\t\t\t\t\t<Option value=\"male\">male</Option>\n\t\t\t\t\t\t\t\t\t\t<Option value=\"female\">female</Option>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={2} style={{ marginRight: '10px', display: 'flex' }} className=\"serarch-btns\">\n\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t<Button icon=\"search\" type=\"primary\" htmlType=\"submit\" className={'btn'} onClick={this.handleSearch}>\n\t\t\t\t\t\t\t\t\t搜索\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t<Button className={'btn'} onClick={this.handleReset}>\n\t\t\t\t\t\t\t\t\t重置\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t\t<Table bordered columns={this.state.columns} dataSource={this.state.data} loading={this.state.loading} pagination={paginationProps} rowKey={record => record.location.postcode} rowSelection={rowSelection} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Form.create()(TableSearch);\n"]},"metadata":{},"sourceType":"module"}