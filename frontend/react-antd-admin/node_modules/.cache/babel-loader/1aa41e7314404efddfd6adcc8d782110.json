{"ast":null,"code":"import \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/radio/style/css\";\nimport _Radio from \"antd/lib/radio\";\nvar _jsxFileName = \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag, removeTag } from '@/redux/actions/tagList';\nimport { connect } from 'react-redux';\nconst RadioGroup = _Radio.Group;\nconst RadioButton = _Radio.Button;\n\nclass Toggle extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: null\n    };\n\n    this.onChange = e => {\n      const value = e.target.value;\n      const name = value === 1 ? '超级管理员' : '普通用户';\n\n      if (value === 1) {\n        this.props.history.push('/permission/toggle');\n      } else {\n        this.props.history.push('/permission/intercept');\n        this.props.removeTag('/permission/toggle');\n        this.props.addTag({\n          title: '路由拦截',\n          path: '/permission/intercept'\n        });\n      } // 模拟生成一些数据\n\n\n      this.props.setUserInfo(Object.assign({}, this.props.userInfo, {\n        role: {\n          type: value,\n          name\n        }\n      }));\n      localStorage.setItem('userInfo', JSON.stringify(Object.assign({}, this.props.userInfo, {\n        role: {\n          type: value,\n          name\n        }\n      })));\n    };\n  }\n\n  render() {\n    const userInfo = this.props.userInfo;\n    if (Object.keys(userInfo).length === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shadow-radius\"\n    }, /*#__PURE__*/React.createElement(_Row, {\n      style: {\n        marginBottom: '15px'\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      defaultValue: parseInt(userInfo.role.type),\n      onChange: this.onChange\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: 0\n    }, \"\\u666E\\u901A\\u7528\\u6237\"), /*#__PURE__*/React.createElement(RadioButton, {\n      value: 1\n    }, \"\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\"))), /*#__PURE__*/React.createElement(_Row, {\n      style: {\n        marginBottom: '15px'\n      }\n    }, \"hi, \", this.props.userInfo.userName, \"\\uFF0C\\u4F60\\u5F53\\u524D\\u4E3A\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\\uFF0C\"), /*#__PURE__*/React.createElement(_Row, null, \"\\u53EA\\u6709\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\\u53EF\\u4EE5\\u770B\\u5230\\u5F53\\u524D\\u9875\\u9762\\uFF0C\\u5207\\u6362\\u5230\\u666E\\u901A\\u7528\\u6237\\u65F6\\uFF0C\\u65E0\\u6CD5\\u8BBF\\u95EE\\u5F53\\u524D\\u9875\\u9762\\u548C\\u8868\\u5355\\u9875\\u9762\"));\n  }\n\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n\n}\n\nconst mapStateToProps = state => state;\n\nconst mapDispatchToProps = dispatch => ({\n  setUserInfo: data => {\n    dispatch(setUserInfo(data));\n  },\n  addTag: data => {\n    dispatch(addTag(data));\n  },\n  removeTag: data => {\n    dispatch(removeTag(data));\n  }\n});\n\nconst _default = withRouter(connect(mapStateToProps, mapDispatchToProps)(Toggle));\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(RadioGroup, \"RadioGroup\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n  reactHotLoader.register(RadioButton, \"RadioButton\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n  reactHotLoader.register(Toggle, \"Toggle\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/permission/Toggle.js"],"names":["React","Component","withRouter","setUserInfo","addTag","removeTag","connect","RadioGroup","Group","RadioButton","Button","Toggle","state","value","onChange","e","target","name","props","history","push","title","path","Object","assign","userInfo","role","type","localStorage","setItem","JSON","stringify","render","keys","length","marginBottom","parseInt","userName","mapStateToProps","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Radio, Row } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag, removeTag } from '@/redux/actions/tagList';\nimport { connect } from 'react-redux';\n\nconst RadioGroup = Radio.Group;\nconst RadioButton = Radio.Button;\n\nclass Toggle extends Component {\n\tstate = { value: null };\n\n\tonChange = e => {\n\t\tconst value = e.target.value;\n\t\tconst name = value === 1 ? '超级管理员' : '普通用户';\n\t\tif (value === 1) {\n\t\t\tthis.props.history.push('/permission/toggle');\n\t\t} else {\n\t\t\tthis.props.history.push('/permission/intercept');\n\t\t\tthis.props.removeTag('/permission/toggle');\n\t\t\tthis.props.addTag({\n\t\t\t\ttitle: '路由拦截',\n\t\t\t\tpath: '/permission/intercept'\n\t\t\t});\n\t\t}\n\t\t// 模拟生成一些数据\n\t\tthis.props.setUserInfo(Object.assign({}, this.props.userInfo, { role: { type: value, name } }));\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(Object.assign({}, this.props.userInfo, { role: { type: value, name } })));\n\t};\n\trender() {\n\t\tconst userInfo = this.props.userInfo;\n\t\tif (Object.keys(userInfo).length === 0) return null;\n\t\treturn (\n\t\t\t<div className=\"shadow-radius\">\n\t\t\t\t<Row style={{ marginBottom: '15px' }}>\n\t\t\t\t\t<RadioGroup defaultValue={parseInt(userInfo.role.type)} onChange={this.onChange}>\n\t\t\t\t\t\t<RadioButton value={0}>普通用户</RadioButton>\n\t\t\t\t\t\t<RadioButton value={1}>超级管理员</RadioButton>\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginBottom: '15px' }}>hi, {this.props.userInfo.userName}，你当前为超级管理员，</Row>\n\t\t\t\t<Row>只有超级管理员可以看到当前页面，切换到普通用户时，无法访问当前页面和表单页面</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n\tsetUserInfo: data => {\n\t\tdispatch(setUserInfo(data));\n\t},\n\taddTag: data => {\n\t\tdispatch(addTag(data));\n\t},\n\tremoveTag: data => {\n\t\tdispatch(removeTag(data));\n\t}\n});\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Toggle)\n);\n"]},"metadata":{},"sourceType":"module"}