{"ast":null,"code":"import \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/icon/style/css\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/form/style/css\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport Particles from 'react-particles-js';\nimport { connect } from 'react-redux';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport '@/assets/css/login';\nconst FormItem = _Form.Item;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clientHeight: document.documentElement.clientHeight || document.body.clientHeight\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          localStorage.setItem('isLogin', '1'); // 模拟生成一些数据\n\n          this.props.setUserInfo(Object.assign({}, values, {\n            role: {\n              type: 1,\n              name: '超级管理员'\n            }\n          }));\n          localStorage.setItem('userInfo', JSON.stringify(Object.assign({}, values, {\n            role: {\n              type: 1,\n              name: '超级管理员'\n            }\n          })));\n          this.props.history.push('/dashboard');\n        } else {\n          console.log(err);\n        }\n      });\n    };\n\n    this.onResize = this.onResize.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.addEventListener('resize', this.onResize); // componentWillMount进行异步操作时且在callback中进行了setState操作时，需要在组件卸载时清除state\n\n    this.setState = () => {\n      return;\n    };\n  }\n\n  onResize() {\n    this.setState({\n      clientHeight: document.documentElement.clientHeight || document.body.clientHeight\n    });\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(Particles, {\n      height: this.state.clientHeight - 5 + 'px',\n      params: {\n        number: {\n          value: 50\n        },\n        ize: {\n          value: 3\n        },\n        interactivity: {\n          events: {\n            onhover: {\n              enable: true,\n              mode: 'repulse'\n            }\n          }\n        }\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\"\n    }, \"\\u85E5\\u5C40POS\\u7BA1\\u7406\\u7CFB\\u7EDF\"), /*#__PURE__*/React.createElement(_Form, {\n      className: \"login-form\"\n    }, /*#__PURE__*/React.createElement(FormItem, null, getFieldDecorator('userName', {\n      rules: [{\n        required: true,\n        message: '請填寫用戶名！'\n      }]\n    })( /*#__PURE__*/React.createElement(_Input, {\n      prefix: /*#__PURE__*/React.createElement(_Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        }\n      }),\n      placeholder: \"\\u7528\\u6237\\u540D\"\n    }))), /*#__PURE__*/React.createElement(FormItem, null, getFieldDecorator('password', {\n      rules: [{\n        required: true,\n        message: '請填寫密碼！'\n      }]\n    })( /*#__PURE__*/React.createElement(_Input.Password, {\n      prefix: /*#__PURE__*/React.createElement(_Icon, {\n        type: \"lock\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        }\n      }),\n      placeholder: \"\\u5BC6\\u7801\"\n    }))), /*#__PURE__*/React.createElement(FormItem, null, /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      block: true,\n      onClick: this.login\n    }, \"\\u767B\\u9304\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: '#999',\n        paddingTop: '10px',\n        textAlign: 'center'\n      }\n    }, \"Tips : \\u8F93\\u5165\\u4EFB\\u610F\\u7528\\u6237\\u540D\\u5BC6\\u7801\\u5373\\u53EF\")))));\n  }\n\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n\n}\n\nconst mapStateToProps = state => state;\n\nconst mapDispatchToProps = dispatch => ({\n  setUserInfo: data => {\n    dispatch(setUserInfo(data));\n  }\n});\n\nconst _default = connect(mapStateToProps, mapDispatchToProps)(_Form.create()(Login));\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(FormItem, \"FormItem\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\");\n  reactHotLoader.register(Login, \"Login\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/Login.js"],"names":["React","Component","Particles","connect","setUserInfo","FormItem","Item","Login","constructor","props","state","clientHeight","document","documentElement","body","login","e","preventDefault","form","validateFields","err","values","localStorage","setItem","Object","assign","role","type","name","JSON","stringify","history","push","console","log","onResize","bind","componentDidMount","window","addEventListener","componentWillUnmount","setState","render","getFieldDecorator","number","value","ize","interactivity","events","onhover","enable","mode","rules","required","message","color","paddingTop","textAlign","mapStateToProps","mapDispatchToProps","dispatch","data","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Particles from 'react-particles-js';\nimport { Form, Icon, Input, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport '@/assets/css/login';\n\nconst FormItem = Form.Item;\nclass Login extends Component {\n\tstate = { clientHeight: document.documentElement.clientHeight || document.body.clientHeight };\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onResize = this.onResize.bind(this);\n\t}\n\tlogin = e => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err, values) => {\n\t\t\tif (!err) {\n\t\t\t\tlocalStorage.setItem('isLogin', '1');\n\t\t\t\t// 模拟生成一些数据\n\t\t\t\tthis.props.setUserInfo(Object.assign({}, values, { role: { type: 1, name: '超级管理员' } }));\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(Object.assign({}, values, { role: { type: 1, name: '超级管理员' } })));\n\t\t\t\tthis.props.history.push('/dashboard');\n\t\t\t} else {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\t};\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.onResize);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.addEventListener('resize', this.onResize);\n\t\t// componentWillMount进行异步操作时且在callback中进行了setState操作时，需要在组件卸载时清除state\n\t\tthis.setState = () => {\n\t\t\treturn;\n\t\t};\n\t}\n\tonResize() {\n\t\tthis.setState({ clientHeight: document.documentElement.clientHeight || document.body.clientHeight });\n\t}\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Particles\n\t\t\t\t\theight={this.state.clientHeight - 5 + 'px'}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tnumber: { value: 50 },\n\t\t\t\t\t\tize: { value: 3 },\n\t\t\t\t\t\tinteractivity: {\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonhover: { enable: true, mode: 'repulse' }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div className=\"title\">藥局POS管理系统</div>\n\t\t\t\t\t<Form className=\"login-form\">\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t{getFieldDecorator('userName', {\n\t\t\t\t\t\t\t\trules: [{ required: true, message: '請填寫用戶名！' }]\n\t\t\t\t\t\t\t})(<Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"用户名\" />)}\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t{getFieldDecorator('password', {\n\t\t\t\t\t\t\t\trules: [{ required: true, message: '請填寫密碼！' }]\n\t\t\t\t\t\t\t})(<Input.Password prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"密码\" />)}\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block onClick={this.login}>\n\t\t\t\t\t\t\t\t登錄\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<div style={{ color: '#999',paddingTop:'10px',textAlign:'center' }}>Tips : 输入任意用户名密码即可</div>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n\tsetUserInfo: data => {\n\t\tdispatch(setUserInfo(data));\n\t}\n});\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form.create()(Login));\n"]},"metadata":{},"sourceType":"module"}