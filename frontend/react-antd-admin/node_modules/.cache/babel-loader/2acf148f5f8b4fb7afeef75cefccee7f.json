{"ast":null,"code":"import \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style/css\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/tree/style/css\";\nimport _Tree from \"antd/lib/tree\";\nvar _jsxFileName = \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nconst {\n  TreeNode\n} = _Tree;\nconst treeData = [{\n  title: '嬰兒用品',\n  key: '440000',\n  children: [{\n    title: '奶嘴',\n    key: '440300',\n    children: [{\n      title: 'chicco',\n      key: '440304'\n    }, {\n      title: 'mamaway',\n      key: '440305'\n    }, {\n      title: '貝親',\n      key: '440306'\n    }]\n  }, {\n    title: '奶瓶',\n    key: '440100',\n    children: [{\n      title: 'chicco',\n      key: '440103'\n    }, {\n      title: 'mamaway',\n      key: '440104'\n    }, {\n      title: '貝親',\n      key: '440105'\n    }]\n  }]\n}, {\n  title: '奶粉',\n  key: '430000',\n  children: [{\n    title: '鉑臻',\n    key: '430100'\n  }, {\n    title: '惠兒樂',\n    key: '430200'\n  }, {\n    title: '呵呵呵～',\n    key: '430300'\n  }]\n}]; // 递归查找\n\nconst getKey = (title, data, arr) => {\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].title.indexOf(title) > -1) {\n      arr.unshift(data[i].key); // break;\n    }\n\n    if (data[i].children && data[i].children.length > 0) {\n      getKey(title, data[i].children, arr);\n    }\n  }\n\n  return arr;\n};\n\nclass BasicTree extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      expandedKeys: [],\n      searchValue: '',\n      autoExpandParent: true,\n      checkedKeys: []\n    };\n\n    this.onSelect = (selectedKeys, info) => {\n      console.log('selected', selectedKeys, info);\n    };\n\n    this.onCheck = (checkedKeys, info) => {\n      console.log('onCheck', checkedKeys, info);\n      this.setState({\n        checkedKeys\n      });\n    };\n\n    this.onExpand = expandedKeys => {\n      this.setState({\n        expandedKeys,\n        autoExpandParent: false\n      });\n    };\n\n    this.onChange = e => {\n      const {\n        value\n      } = e.target;\n\n      if (!value) {\n        this.setState({\n          expandedKeys: [],\n          searchValue: '',\n          autoExpandParent: false\n        });\n        return;\n      }\n\n      const expandedKeys = getKey(value, treeData, []);\n      this.setState({\n        expandedKeys,\n        searchValue: value,\n        autoExpandParent: true\n      });\n    };\n  }\n\n  render() {\n    const {\n      searchValue,\n      expandedKeys,\n      autoExpandParent\n    } = this.state;\n\n    const loop = data => data.map(item => {\n      const index = item.title.indexOf(searchValue);\n      const beforeStr = item.title.substr(0, index);\n      const afterStr = item.title.substr(index + searchValue.length);\n      const title = index > -1 ? /*#__PURE__*/React.createElement(\"span\", null, beforeStr, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: '#f50'\n        }\n      }, searchValue), afterStr) : /*#__PURE__*/React.createElement(\"span\", null, item.title);\n\n      if (item.children) {\n        return /*#__PURE__*/React.createElement(TreeNode, {\n          key: item.key,\n          title: title\n        }, loop(item.children));\n      }\n\n      return /*#__PURE__*/React.createElement(TreeNode, {\n        key: item.key,\n        title: title\n      });\n    });\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shadow-radius\"\n    }, /*#__PURE__*/React.createElement(_Row, {\n      gutter: 16\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: 6\n    }, /*#__PURE__*/React.createElement(_Input.Search, {\n      style: {\n        marginBottom: 8\n      },\n      placeholder: \"Search\",\n      onChange: this.onChange\n    }), /*#__PURE__*/React.createElement(_Tree, {\n      showLine: true,\n      checkable: true,\n      className: \"hide-file-icon\",\n      onSelect: this.onSelect,\n      onCheck: this.onCheck,\n      onExpand: this.onExpand,\n      expandedKeys: expandedKeys,\n      autoExpandParent: autoExpandParent\n    }, loop(treeData))), /*#__PURE__*/React.createElement(_Col, {\n      span: 18\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        paddingTop: 5\n      }\n    }, \"\\u5F53\\u524D\\u9009\\u4E2D\\u8282\\u70B9\\u7684key\\uFF1A\", this.state.checkedKeys.toString()))));\n  }\n\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n\n}\n\nconst _default = BasicTree;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TreeNode, \"TreeNode\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\");\n  reactHotLoader.register(treeData, \"treeData\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\");\n  reactHotLoader.register(getKey, \"getKey\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\");\n  reactHotLoader.register(BasicTree, \"BasicTree\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/johnlee/Desktop/docker-compose-python-flask-redis-counter/frontend/react-antd-admin/src/views/control/BasicTree.js"],"names":["React","TreeNode","treeData","title","key","children","getKey","data","arr","i","length","indexOf","unshift","BasicTree","Component","state","expandedKeys","searchValue","autoExpandParent","checkedKeys","onSelect","selectedKeys","info","console","log","onCheck","setState","onExpand","onChange","e","value","target","render","loop","map","item","index","beforeStr","substr","afterStr","color","marginBottom","paddingTop","toString"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Tree, Input, Row, Col } from 'antd';\nconst { TreeNode } = Tree;\n\nconst treeData = [\n\t{\n\t\ttitle: '嬰兒用品',\n\t\tkey: '440000',\n\t\tchildren: [\n\t\t\t{\n\t\t\t\ttitle: '奶嘴',\n\t\t\t\tkey: '440300',\n\t\t\t\tchildren: [{ title: 'chicco', key: '440304' }, { title: 'mamaway', key: '440305' }, { title: '貝親', key: '440306' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '奶瓶',\n\t\t\t\tkey: '440100',\n\t\t\t\tchildren: [{ title: 'chicco', key: '440103' }, { title: 'mamaway', key: '440104' }, { title: '貝親', key: '440105' }]\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\ttitle: '奶粉',\n\t\tkey: '430000',\n\t\tchildren: [\n\t\t\t{\n\t\t\t\ttitle: '鉑臻',\n\t\t\t\tkey: '430100'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '惠兒樂',\n\t\t\t\tkey: '430200'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '呵呵呵～',\n\t\t\t\tkey: '430300'\n\t\t\t}\n\t\t]\n\t}\n];\n// 递归查找\nconst getKey = (title, data, arr) => {\n\tfor (let i = 0; i < data.length; i++) {\n\t\tif (data[i].title.indexOf(title) > -1) {\n\t\t\tarr.unshift(data[i].key);\n\t\t\t// break;\n\t\t}\n\t\tif (data[i].children && data[i].children.length > 0) {\n\t\t\tgetKey(title, data[i].children, arr);\n\t\t}\n\t}\n\treturn arr;\n};\n\nclass BasicTree extends React.Component {\n\tstate = {\n\t\texpandedKeys: [],\n\t\tsearchValue: '',\n\t\tautoExpandParent: true,\n\t\tcheckedKeys: []\n\t};\n\tonSelect = (selectedKeys, info) => {\n\t\tconsole.log('selected', selectedKeys, info);\n\t};\n\n\tonCheck = (checkedKeys, info) => {\n\t\tconsole.log('onCheck', checkedKeys, info);\n\t\tthis.setState({ checkedKeys });\n\t};\n\n\tonExpand = expandedKeys => {\n\t\tthis.setState({\n\t\t\texpandedKeys,\n\t\t\tautoExpandParent: false\n\t\t});\n\t};\n\n\tonChange = e => {\n\t\tconst { value } = e.target;\n\t\tif (!value) {\n\t\t\tthis.setState({\n\t\t\t\texpandedKeys: [],\n\t\t\t\tsearchValue: '',\n\t\t\t\tautoExpandParent: false\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst expandedKeys = getKey(value, treeData, []);\n\t\tthis.setState({\n\t\t\texpandedKeys,\n\t\t\tsearchValue: value,\n\t\t\tautoExpandParent: true\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { searchValue, expandedKeys, autoExpandParent } = this.state;\n\t\tconst loop = data =>\n\t\t\tdata.map(item => {\n\t\t\t\tconst index = item.title.indexOf(searchValue);\n\t\t\t\tconst beforeStr = item.title.substr(0, index);\n\t\t\t\tconst afterStr = item.title.substr(index + searchValue.length);\n\t\t\t\tconst title =\n\t\t\t\t\tindex > -1 ? (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{beforeStr}\n\t\t\t\t\t\t\t<span style={{ color: '#f50' }}>{searchValue}</span>\n\t\t\t\t\t\t\t{afterStr}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>{item.title}</span>\n\t\t\t\t\t);\n\t\t\t\tif (item.children) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TreeNode key={item.key} title={title}>\n\t\t\t\t\t\t\t{loop(item.children)}\n\t\t\t\t\t\t</TreeNode>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn <TreeNode key={item.key} title={title} />;\n\t\t\t});\n\t\treturn (\n\t\t\t<div className=\"shadow-radius\">\n\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t<Input.Search style={{ marginBottom: 8 }} placeholder=\"Search\" onChange={this.onChange} />\n\t\t\t\t\t\t<Tree showLine checkable className=\"hide-file-icon\" onSelect={this.onSelect} onCheck={this.onCheck} onExpand={this.onExpand} expandedKeys={expandedKeys} autoExpandParent={autoExpandParent}>\n\t\t\t\t\t\t\t{loop(treeData)}\n\t\t\t\t\t\t</Tree>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={18}>\n\t\t\t\t\t\t<h4 style={{ paddingTop: 5 }}>当前选中节点的key：{this.state.checkedKeys.toString()}</h4>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BasicTree;\n"]},"metadata":{},"sourceType":"module"}